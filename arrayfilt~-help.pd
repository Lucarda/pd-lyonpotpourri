#N canvas 600 60 582 459 12;
#X obj 26 157 noise~;
#N canvas 227 201 1229 589 array-fft-block 0;
#X obj 65 55 inlet~;
#X obj 65 419 outlet~;
#X obj 65 125 rfft~, f 6;
#X obj 68 483 block~ 1024 8;
#X obj 65 320 rifft~;
#X obj 65 351 *~ 0;
#X obj 381 195 *;
#X msg 333 117 1 1024 8;
#X obj 333 148 unpack f f f;
#X obj 333 227 /;
#X floatatom 333 259 12 0 0 0 - - -;
#X text 414 260 rescale factor;
#X obj 333 86 loadbang;
#N canvas 600 60 450 278 (subpatch) 0;
#X array arrayfilt1 513 float 3;
#A 0 0.95 0.935714 0.914285 0.257143 0.257143 0.257143 0.257143 0.521429
0.502381 0.483334 0.464286 0.421428 0.378571 0.358928 0.339285 0.319642
0.299999 0.285713 0.282142 0.27857 0.271428 0.264285 0.259999 0.255713
0.251427 0.978572 0.971429 0.971429 0.971429 0.978572 0.233332 0.22857
0.22857 0.22857 0.22857 0.226189 0.223808 0.221427 0.271428 0.571429
0.487301 0.481745 0.47619 0.828571 0.828571 0.830952 0.833333 0.835714
0.8375 0.839286 0.841071 0.842857 0.842857 0.642857 0.135714 0.421427
0.414284 0.585714 0.192857 0.421428 0.478571 0.948215 0.944048 0.939882
0.935715 0.930436 0.925157 0.919877 0.914598 0.909318 0.904038 0.0642857
0.0642857 0.0642857 0.0642857 0.0642857 0.0642857 0.0642857 0.0642857
0.0642857 0.0625 0.0607142 0.0589285 0.0571428 0.0571428 0.0571428
0.0571428 0.0571428 0.0571428 0.0857144 0.0738096 0.0690476 0.0642857
0.0571428 0.0571428 0.638096 0.647619 0.657143 0.671429 0.700001 0.942857
0.95 0.953571 0.957143 0.959524 0.961905 0.964286 0.964286 0.964286
0.964286 0.964286 0.964286 0.964286 0.964286 0.964286 0.964286 0.964286
0.964286 0.964286 0.964286 0.964286 0.964286 0.964286 0.964286 0.964286
0.964286 0.964286 0.964286 0.964286 0.964286 0.964286 0.535712 0.50714
0.492854 0.464283 0.414282 0.378568 0.397616 0.416663 0.435711 0.454997
0.474283 0.493568 0.512854 0.53214 0.321425 0.349996 0.371425 0.392854
0.407139 0.421425 0.435711 0.449997 0.464283 0.481426 0.498569 0.515711
0.532854 0.549997 0.572319 0.594641 0.616962 0.639284 0.661605 0.683927
0.706249 0.72857 0.742856 0.757142 0.778571 0.778571 0.779464 0.780357
0.78125 0.782143 0.783036 0.783929 0.784821 0.785714 0.786813 0.787912
0.789011 0.79011 0.791209 0.792308 0.793407 0.794505 0.795604 0.796703
0.797802 0.798901 0.8 0.801429 0.802857 0.804286 0.805714 0.821429
0.821429 0.814286 0.814286 0.814286 0.183928 0.182142 0.180357 0.178571
0.178571 0.178571 0.178571 0.367859 0.378573 0.384288 0.390002 0.395716
0.401431 0.407145 0.414288 0.421431 0.428574 0.435717 0.442859 0.450002
0.457145 0.464288 0.471431 0.478574 0.485717 0.490479 0.495241 0.500003
0.504765 0.509527 0.514288 0.528574 0.535717 0.550003 0.553574 0.557146
0.564289 0.571432 0.571432 0.571432 0.564289 0.535717 0.514288 0.489288
0.464288 0.392859 0.34643 0.300001 0.253573 0.207144 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0290476 0.0295238 0.03 0.0304762 0.0309524
0.0314286 0.0319048 0.032381 0.0328572 0.0333334 0.0338096 0.0342858
0.0347619 0.0352381 0.0357143 0.0357143 0.0357143 0.0357143 0.0357143
0.0357143 0.0357143 0.0357143 0.0357143 0.0363637 0.037013 0.0376624
0.0383117 0.0389611 0.0396105 0.0402598 0.0409092 0.0415585 0.0422079
0.0428572 0.0464287 0.0500001 0.0500001 0.0500001 0.0500001 0.0500001
0.0500001 0.0500001 0.0500001 0.0517859 0.0535716 0.0553573 0.057143
0.0607145 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859
0.0642859 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859
0.0660717 0.0678574 0.0696431 0.0714288 0.0726193 0.0738098 0.0750003
0.0761908 0.0773813 0.0785717 0.0785717 0.0785717 0.0785717 0.0785717
0.0785717 0.0785717 0.0785717 0.0785717 0.0797622 0.0809527 0.0821432
0.0833337 0.0845242 0.0857146 0.086364 0.0870133 0.0876627 0.088312
0.0889614 0.0896108 0.0902601 0.0909095 0.0915588 0.0922082 0.0928575
0.0935069 0.0941562 0.0948056 0.095455 0.0961043 0.0967537 0.097403
0.0980524 0.0987017 0.0993511 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 1 1;
#X coords 0 1 513 0 400 140 1 0 0;
#X restore 525 133 graph;
#X msg 428 432 \; arrayfilt1 const 0;
#X obj 796 467 tabwrite arrayfilt1;
#X msg 796 387 1 \$1;
#X obj 796 424 unpack f f;
#X floatatom 796 348 5 0 0 0 - - -;
#X text 833 347 set a range of bin gains to 1;
#X text 570 438 zero out array;
#X text 934 214 draw into array to change filter properties;
#X text 563 476 flat response;
#X msg 427 469 \; arrayfilt1 const 1;
#X text 69 455 set FFT size to 1024 \, with an overlap of 8;
#X obj 65 214 lyonpotpourri/arrayfilt~ arrayfilt1;
#X obj 65 87 lyonpotpourri/windowvec~;
#X obj 65 160 lyonpotpourri/cartopol~;
#X obj 65 277 lyonpotpourri/poltocar~;
#X obj 65 386 lyonpotpourri/windowvec~;
#X text 644 101 Size the filter to (FFT size / 2) + 1 \, in this case
513;
#X connect 0 0 26 0;
#X connect 2 0 27 0;
#X connect 2 1 27 1;
#X connect 4 0 5 0;
#X connect 5 0 29 0;
#X connect 6 0 9 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 6 0;
#X connect 8 2 6 1;
#X connect 9 0 10 0;
#X connect 10 0 5 1;
#X connect 12 0 7 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 17 1 15 1;
#X connect 18 0 16 0;
#X connect 25 0 28 0;
#X connect 25 1 28 1;
#X connect 26 0 2 0;
#X connect 27 0 25 0;
#X connect 27 1 25 1;
#X connect 28 0 4 0;
#X connect 28 1 4 1;
#X connect 29 0 1 0;
#X restore 26 189 pd array-fft-block;
#X text 163 187 A demonstration of using fft primitives with a simple
external that operates on bin magnitudes;
#X obj 26 229 lpp-meters;
#X obj 27 16 lpp-icon arrayfilt~;
#X text 27 112 [arrayfilt~] filters a sound with the contents of an
array \, so that filters can be drawn by hand;
#X text 246 52 - use an array as a magnitude spectrum filter;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 0 3 1;
